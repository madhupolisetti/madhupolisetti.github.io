<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>90-Day Goal Timer</title>

		<style>
			html {
				overscroll-behavior: none;
			}

			body {
				margin: 0;
				min-height: 100dvh;
				background: #000;
				color: #00ffcc;
				font-family: "Segoe UI", Arial, sans-serif;

				display: flex;
				align-items: center;
				justify-content: center;
			}

			.container {
				width: 100%;
				height: 100%;
				max-width: 1200px;

				padding: clamp(16px, 4vw, 48px);
				box-sizing: border-box;

				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
			}

			h2 {
				margin-bottom: 10px;
				font-weight: 300;
				letter-spacing: 2px;
				color: #ffffffcc;
			}

			.goal {
				color: #888;
				margin-bottom: 25px;
				font-size: 0.95em;
			}

			#timer {
				font-family: "Courier New", monospace;
				font-size: 4rem;
				letter-spacing: 3px;
				margin-bottom: 30px;
				text-shadow:
					0 0 5px #00ffcc,
					0 0 15px #00ffcc,
					0 0 30px #00ffcc;
				animation: pulse 1s infinite;
			}

			@keyframes pulse {
				0%   { opacity: 1; }
				50%  { opacity: 0.85; }
				100% { opacity: 1; }
			}

			label {
				color: #aaa;
				font-size: 0.9em;
			}

			input {
				background: #111;
				border: 1px solid #333;
				color: #00ffcc;
				padding: 6px;
				margin-left: 6px;
			}

			button {
				margin-left: 10px;
				padding: 6px 14px;
				background: #00ffcc;
				border: none;
				color: #000;
				font-weight: bold;
				cursor: pointer;
			}

			button:hover {
				background: #00e6b8;
			}
			
			#timer {
				display: flex;
				justify-content: center;
				gap: clamp(10px, 3vw, 24px);
				flex-wrap: nowrap;     /* ðŸ”‘ important */
				width: 100%;
			}


			.time {
				text-align: center;
			}

			.time span:first-child {
				font-size: clamp(2.6rem, 7.5vw, 5rem);
				white-space: nowrap;
			}

			
			@media (max-width: 480px) {
				#timer {
					flex-wrap: wrap;
					gap: 16px;
				}
			}

			.unit {
				font-size: clamp(0.65rem, 2vw, 0.9rem);
				display: block;
				font-size: 0.9rem;
				letter-spacing: 1px;
				color: #ffffffaa;
				margin-top: 6px;
			}

			
			.inputs input, .inputs select, button {
				min-height: 44px; /* Apple/Android touch standard */
			}
			
			@media (orientation: landscape) and (max-height: 500px) {
				.time span:first-child {
					font-size: clamp(2.2rem, 6vw, 4rem);
				}
			}
			
			@media (max-width: 430px) {
				.time span:first-child {
					font-size: clamp(2.4rem, 7vw, 4.6rem);
				}
			}

			
			.controls {
				margin-top: 24px;
				display: flex;
				flex-wrap: wrap;
				gap: 10px;
				justify-content: center;
			}


		</style>
	</head>

	<body>

	<div class="container">
		<h2>90-Day Goal Countdown</h2>
		<div class="goal" id="goalDateText"></div>
		<div id="timer">
			<span class="time"><span id="d">--</span><span class="unit">Days</span></span>
			<span class="time"><span id="h">--</span><span class="unit">Hours</span></span>
			<span class="time"><span id="m">--</span><span class="unit">Minutes</span></span>
			<span class="time"><span id="s">--</span><span class="unit">Seconds</span></span>
		</div>


		<div class="controls">
			<label>
				Start Date:
				<input type="datetime-local" id="startDate">
			</label>
			<button onclick="saveStart()">Save</button>
		</div>
	</div>

	<script>
		const STORAGE_KEY = "goalStartDate";
		const GOAL_DAYS = 90;
		const DAY_MS = 24 * 60 * 60 * 1000;

		let goalTime = null;

		function loadStartDate() {
			const saved = localStorage.getItem(STORAGE_KEY);
			if (saved) {
				document.getElementById("startDate").value = saved;
				setGoal(new Date(saved));
			}
		}

		function saveStart() {
			const value = document.getElementById("startDate").value;
			if (!value) return;
			localStorage.setItem(STORAGE_KEY, value);
			setGoal(new Date(value));
		}

		function setGoal(startDate) {
			goalTime = new Date(startDate.getTime() + GOAL_DAYS * DAY_MS);

			const formattedGoal = goalTime.toLocaleString(undefined, {
				day: "2-digit",
				month: "short",   // Jan, Feb, Mar...
				year: "numeric",
				hour: "2-digit",
				minute: "2-digit",
				hour12: true
			});

			document.getElementById("goalDateText").textContent =
				"Goal date: " + formattedGoal;
		}
		
		function updateTimer() {
			if (!goalTime) return;

			const diff = goalTime - new Date();

			if (diff <= 0) {
				d.textContent = h.textContent =
				m.textContent = s.textContent = "00";
				return;
			}

			const seconds = Math.floor(diff / 1000) % 60;
			const minutes = Math.floor(diff / 60000) % 60;
			const hours   = Math.floor(diff / 3600000) % 24;
			const days    = Math.floor(diff / DAY_MS);

			d.textContent = pad(days) + ":";
			h.textContent = pad(hours) + ":";
			m.textContent = pad(minutes) + ":";
			s.textContent = pad(seconds);
		}

		function pad(n) {
			return String(n).padStart(2, "0");
		}

		loadStartDate();
		setInterval(updateTimer, 1000);
		updateTimer();
	</script>

	</body>
</html>
